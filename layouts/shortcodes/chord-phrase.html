<script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js"></script>
<style>
    :root{
        --palm: #ffb6b6ff;
    }
</style>
<h5>Click to load a pangram</h5>
<ul id="panagrams">
   <li >void (^a)(void) => <- /^\!*@#$%&?/ void () {printf("test");};</li>
   <li >Waltz, bad nymph, for quick jigs vex.</li>
   <li >Sphinx of black quartz, judge my vow.</li>
   <li >List.map(fun i -> i + 1)[1;2;3]</li>
   <li >var xyzOrds => (q){q % 2 || !^~ ? "c++"} </li>
</ul>
<form id="chordifyForm" action="javascript:chordify();">
    <textarea type="text" id="phrase" style="width: 100%"></textarea>
    <button id="chordify" type="submit">Chordify</button>
</form>
<details class="row col-sm-12">
    <summary class="col-sm-6">Chord Syntax Legend</summary>
    <pre id="legend" class="bold col-sm-6">
        t = thumb
        i = index
        m = middle
        r = ring
        p = pinky

        mf = metacarpo-flexion
        pf = proximal-flexion
        me = metacarpo-extension
    </pre>
    <pre id="hex-chords" class="bold col-sm-4">
        hexcode, finger, action
        0x0, thumb, mf
        0x1, thumb, pf
        0x2, thumb, me
        0x3, index, mf
        0x4, index, pf
        0x5, index, me
        0x6, middle, mf
        0x7, middle, pf
        0x8, middle, me
        0x9, ring, mf
        0xA, ring, pf
        0xB, ring, me
        0xC, pinky, mf
        0xD, pinky, pf
        0xE, pinky, me
    </pre>
</details>
<div id="chord-area" class="row col-md-12">
    <h6>Chord strokes</h6>
    <div class="row col-md-12" style="max-width: 100%">
        <pre id="chordified" class="col-md-8 bold chordified" ></pre>
        <svg xmlns="http://www.w3.org/2000/svg" 
            class="col-md-4" width="150" height="150" 
            viewBox="0 0 60 50" >
            <style>
                #thumb {
                    fill: url("#thumbGradient");
                }
                #index {
                    fill: #ffb6b6ff;
                }
                #middle {
                    fill: #ffb6b6ff;
                }
                #ring {
                    fill: #ffb6b6ff;
                }
                #pinky {
                    fill: #ffb6b6ff;
                }
            </style>
            <defs>
                <linearGradient id="thumbGradient" x1="1" x2="1" y1="0" y2="1" >
                    <stop offset="0%" stop-color="#ffb6b6ff" />
                    <stop offset="100%" stop-color="#BD7676" />
                </linearGradient>
                <path id="phalange" 
                    d="
                        M 0 0 
                        L 10 0
                        L 10 10
                        L 0 10
                        Z" 
                    stroke-width="useCurrent" stroke="useCurrent" fill="useCurrent" />
                <path id="tip" 
                    d="
                        M 0 0 
                        C 15 0, 15 10, 0 10
                        L 0 10
                        Z" 
                    stroke-width="useCurrent" stroke="useCurrent" fill="useCurrent"/>
            </defs>
            <g id="hand" viewBox="0 0 50 50" x="0" y="0">
                <g id="thumb" > 
                    <use id="me" href="#phalange" stroke="#000" stroke-width="0.1px" transform="translate(0,0) scale(1,1) " />
                    <use id="mf" href="#phalange" transform="translate(10,0) scale(1,1) "/>
                    <use id="pf" href="#tip" transform="translate(20,0) scale(1,1) skewY(-12)"/>
                </g>
                <g id="index" transform="translate(0,10)"> 
                    <use id="me" href="#phalange" transform="translate(0,0) scale(2,1) "/>
                    <use id="mf" href="#phalange" transform="translate(20,0) scale(2,1) "/>
                    <use id="pf" href="#tip" transform="translate(40,0) scale(1.5,1) "/>
                </g>
                <g id="middle" transform="translate(0,20)"> 
                    <use id="me" href="#phalange" transform="translate(0,0) scale(2,1) "/>
                    <use id="mf" href="#phalange" transform="translate(20,0) scale(2.25,1) "/>
                    <use id="pf" href="#tip" transform="translate(42.5,0) scale(1.75,1) "/>
                </g>
                <g id="ring" transform="translate(0,30)"> 
                    <use id="me" href="#phalange" transform="translate(0,0) scale(2,1) "/>
                    <use id="mf" href="#phalange" transform="translate(20,0) scale(2,1) "/>
                    <use id="pf" href="#tip" transform="translate(40,0) scale(1.5,1) "/>
                </g>
                <g id="pinky" transform="translate(0,40)"> 
                    <use id="me" href="#phalange" transform="translate(0,0) scale(1.5,1) "/>
                    <use id="mf" href="#phalange" transform="translate(15,0) scale(1.5,1) "/>
                    <use id="pf" href="#tip" transform="translate(30,0) scale(1.5,1) "/>
                </g>
            </g>
        </svg>
    </div>
    <div id="testAreaDiv" class="col-md-12" >
        <div style="width: 100%" class="row">
            <div id="test-timer" style="width: 75%; float: left; font-family: monospace; font-size: 16px"><i class="fa fa-clock-o" aria-hidden="false"></i>Time: <b><span id="timer">0.0</span></b> seconds</div>
            <button id="timerCancel" style="width: 20%; float: right;">X</button>
        </div>
        <div class="row">
            <textarea id="testArea" style="min-width: 80%" title="test chord"></textarea>
        </div>
    </div>
    
    <div display="block" id="chordList" class="col-sm-12" style="max-width: 100%">
        <h6>Chord List</h6>
        <input id="searchChords" class="col-sm-6" style="max-width: 100%"/>
        <button id="listAllChords" class="col-sm-2">List chords</button>
        <button id="clearChordsButton" class="col-sm-1" >X</button>
        <div id="allChords" class="col-sm-12 chordified" style="max-width: 100%">
        </div>
    </div>  
</div>
<script src="/js/chord-phrase.js" type="text/javascript">
</script>
<svg id="chord-hand" 
    style="display: none;" 
    xmlns="http://www.w3.org/2000/svg" fill="none"  xmlns:v="https://vecta.io/nano">
</svg>